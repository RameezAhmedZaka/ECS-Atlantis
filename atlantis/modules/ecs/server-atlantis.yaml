
 repos:
  - id: github.com/RameezAhmedZaka/ECS-Atlantis
    allow_custom_workflows: true
    allowed_overrides:
      - apply_requirements
      - workflow
      - plan_requirements
      - repo_locks
    apply_requirements: []
    repo_locks:
      mode: disabled 
    repo_locking: false  
    pre_workflow_hooks:
        - run: |
            echo "Running config-generator from $(pwd)"
            ls -la
            chmod +x ./repo-config-generator.sh || echo "Script not found or not executable"
            ./repo-config-generator.sh || (echo "Script failed !" && exit 1)
          description: Generating configs












    # pre_workflow_hooks:
    #   - run: |
    #       set -e
    #       echo "Running config-generator from $(pwd)"
    #       if [ -f "./repo-config-generator.sh" ]; then
    #           chmod +x ./repo-config-generator.sh
    #           ./repo-config-generator.sh
    #           echo "Config generation completed successfully"
    #       else
    #           echo "Warning: repo-config-generator.sh not found"
    #           exit 0  # Don't fail if script doesn't exist
    #       fi
    #     description: Generating configs
