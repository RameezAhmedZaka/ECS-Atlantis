---
# repos:
#   - id: /.*/
#     allow_custom_workflows: true
#     allowed_overrides:
#       - apply_requirements
#       - workflow
#       - plan_requirements
#     apply_requirements: []
#     workflow: multi_env_workflow
#     pre_workflow_hooks:
#       - run: ./scripts/generate-atlantis-config.sh
#         description: "Generate dynamic Atlantis configuration"


repos:
  - id: /.*/
    allow_custom_workflows: true
    allowed_overrides:
      - apply_requirements
      - workflow
      - plan_requirements
    apply_requirements: []  
    pre_workflow_hooks:
      - run: |
         set -euo pipefail
         chmod +x ./repo-config-generator.sh
         ./repo-config-generator.sh
        description: Generating configs.