# version: 3

# projects:
#   - name: applications
#     dir: applications/*      
#     autoplan:
#       when_modified: ["*.tf", "config/*.tfvars", "env/**/*.conf"]
#       enabled: true
#     # workflow: default
#     apply_requirements: [approved, mergeable]

#   - name: databases
#     dir: databases/*          
#     autoplan:
#       when_modified: ["*.tf", "config/*.tfvars", "env/**/*.conf"]
#       enabled: true
#     # workflow: default
#     apply_requirements: [approved, mergeable]

# workflows:
#   default:
#     plan:
#       steps:
#         - init
#         - plan
#     apply:
#       steps:
#         - apply


# version: 3

# projects:
#   - name: applications
#     dir: applications/*      
#     autoplan:
#       when_modified: ["*.tf", "config/*.tfvars", "env/**/*.conf"]
#       enabled: true

#   - name: databases
#     dir: databases/*          
#     autoplan:
#       when_modified: ["*.tf", "config/*.tfvars", "env/**/*.conf"]
#       enabled: true

# workflows:
#   default:
#     plan:
#       steps:
#         - init
#         - plan
#     apply:
#       steps:
#         - apply

version: 3
projects:
  - name: application
    dir: application/*
    autoplan:
      when_modified: ["*.tf", "config/*.tfvars", "modules/**/*.tf"]
      enabled: true

  # - name: databases
  #   dir: databases/*
  #   autoplan:
  #     when_modified: ["databases/**/*.tf", "databases/**/config/*.tfvars", "databases/**/env/**/*.conf"]
  #     enabled: true