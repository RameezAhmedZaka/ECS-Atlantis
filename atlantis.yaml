# version: 3

# projects:
#   - name: applications
#     dir: applications/*      
#     autoplan:
#       when_modified: ["*.tf", "config/*.tfvars", "env/**/*.conf"]
#       enabled: true
#     # workflow: default
#     apply_requirements: [approved, mergeable]

#   - name: databases
#     dir: databases/*          
#     autoplan:
#       when_modified: ["*.tf", "config/*.tfvars", "env/**/*.conf"]
#       enabled: true
#     # workflow: default
#     apply_requirements: [approved, mergeable]

# workflows:
#   default:
#     plan:
#       steps:
#         - init
#         - plan
#     apply:
#       steps:
#         - apply


# version: 3

# projects:
#   - name: applications
#     dir: applications/*      
#     autoplan:
#       when_modified: ["*.tf", "config/*.tfvars", "env/**/*.conf"]
#       enabled: true

#   - name: databases
#     dir: databases/*          
#     autoplan:
#       when_modified: ["*.tf", "config/*.tfvars", "env/**/*.conf"]
#       enabled: true

# workflows:
#   default:
#     plan:
#       steps:
#         - init
#         - plan
#     apply:
#       steps:
#         - apply


version: 3

projects:
  - name: applications
    dir: applications/*
    plan_requirements: [approved]
    apply_requirements: [approved]
    import_requirements: [approved]     
    autoplan:
      when_modified: ["application/network/*.tf", "application/network/config/*.tfvars", "application/network/env/**/*.conf"]
      enabled: true
    # apply_requirements: [approved, mergeable]

  - name: databases
    dir: databases/*          
    autoplan:
      when_modified: ["*.tf", "config/*.tfvars", "env/**/*.conf"]
      enabled: true
    # apply_requirements: [approved, mergeable]

